<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>为什么说 Javascript 中万物皆对象 | 煎蛋</title>
    <meta name="generator" content="VuePress 1.6.0">
    <link ref="icon" href="/img/favicon.ico">
    <script src="/lib/jQuery.min.js"></script>
    <meta name="description" content="兴趣使然的记录前端开发中的点点滴滴">
    <meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no">
    <link rel="preload" href="/assets/css/0.styles.ba80c229.css" as="style"><link rel="preload" href="/assets/js/app.c6a61154.js" as="script"><link rel="preload" href="/assets/js/2.b83c1193.js" as="script"><link rel="preload" href="/assets/js/45.bced3911.js" as="script"><link rel="prefetch" href="/assets/js/10.af35934f.js"><link rel="prefetch" href="/assets/js/11.cd42f045.js"><link rel="prefetch" href="/assets/js/12.8f2fbdf7.js"><link rel="prefetch" href="/assets/js/13.6b351a56.js"><link rel="prefetch" href="/assets/js/14.ea987d42.js"><link rel="prefetch" href="/assets/js/15.5a692030.js"><link rel="prefetch" href="/assets/js/16.66b6b1fd.js"><link rel="prefetch" href="/assets/js/17.7c6a7aa9.js"><link rel="prefetch" href="/assets/js/18.d40b8053.js"><link rel="prefetch" href="/assets/js/19.af324401.js"><link rel="prefetch" href="/assets/js/20.9b0741a0.js"><link rel="prefetch" href="/assets/js/21.cdb45e96.js"><link rel="prefetch" href="/assets/js/22.c1498e5e.js"><link rel="prefetch" href="/assets/js/23.36856186.js"><link rel="prefetch" href="/assets/js/24.f3bec094.js"><link rel="prefetch" href="/assets/js/25.471e119d.js"><link rel="prefetch" href="/assets/js/26.9f69a506.js"><link rel="prefetch" href="/assets/js/27.e2246053.js"><link rel="prefetch" href="/assets/js/28.d8c2cdcd.js"><link rel="prefetch" href="/assets/js/29.d899ebfc.js"><link rel="prefetch" href="/assets/js/3.6263d150.js"><link rel="prefetch" href="/assets/js/30.09f5218f.js"><link rel="prefetch" href="/assets/js/31.73fcb01e.js"><link rel="prefetch" href="/assets/js/32.069c3ac8.js"><link rel="prefetch" href="/assets/js/33.f80eb311.js"><link rel="prefetch" href="/assets/js/34.c2017c6b.js"><link rel="prefetch" href="/assets/js/35.fb58fc47.js"><link rel="prefetch" href="/assets/js/36.1ac9067f.js"><link rel="prefetch" href="/assets/js/37.c922c3f4.js"><link rel="prefetch" href="/assets/js/38.357b8144.js"><link rel="prefetch" href="/assets/js/39.3fa92e7a.js"><link rel="prefetch" href="/assets/js/4.010ba7b6.js"><link rel="prefetch" href="/assets/js/40.a92d4e59.js"><link rel="prefetch" href="/assets/js/41.86960da2.js"><link rel="prefetch" href="/assets/js/42.84d1a089.js"><link rel="prefetch" href="/assets/js/43.53013c84.js"><link rel="prefetch" href="/assets/js/44.4f5f695c.js"><link rel="prefetch" href="/assets/js/46.26e2d6e4.js"><link rel="prefetch" href="/assets/js/47.17a01b4e.js"><link rel="prefetch" href="/assets/js/48.74880426.js"><link rel="prefetch" href="/assets/js/49.3a727ef6.js"><link rel="prefetch" href="/assets/js/5.92209cd7.js"><link rel="prefetch" href="/assets/js/50.e65d747a.js"><link rel="prefetch" href="/assets/js/51.3db82190.js"><link rel="prefetch" href="/assets/js/52.bc99010b.js"><link rel="prefetch" href="/assets/js/53.a53149dd.js"><link rel="prefetch" href="/assets/js/54.84966951.js"><link rel="prefetch" href="/assets/js/55.32619148.js"><link rel="prefetch" href="/assets/js/56.1d1d5366.js"><link rel="prefetch" href="/assets/js/57.d3a9a3f3.js"><link rel="prefetch" href="/assets/js/58.fe2253af.js"><link rel="prefetch" href="/assets/js/6.2a08bac4.js"><link rel="prefetch" href="/assets/js/7.1a29169c.js"><link rel="prefetch" href="/assets/js/8.0690cd79.js"><link rel="prefetch" href="/assets/js/9.b9d8f4ad.js">
    <link rel="stylesheet" href="/assets/css/0.styles.ba80c229.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><!----> <span class="site-name">煎蛋</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端相关" class="mobile-dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/前端学习路线.html" class="nav-link">
  前端学习路线
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css-notes/" class="nav-link">
  CSS学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js-notes/" class="nav-link router-link-active">
  JS学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/frontend/uni-app/" class="nav-link">
  uni-app学习笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端相关" class="dropdown-title"><span class="title">后端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端相关" class="mobile-dropdown-title"><span class="title">后端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/eggjs/" class="nav-link">
  eggjs学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/backend/thinkphp/" class="nav-link">
  ThinkPHP学习笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github" class="dropdown-title"><span class="title">Github</span> <span class="arrow down"></span></button> <button type="button" aria-label="Github" class="mobile-dropdown-title"><span class="title">Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/welives" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/welives" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">
  主页
</a></div><div class="nav-item"><a href="/guide/" class="nav-link">
  指南
</a></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="前端相关" class="dropdown-title"><span class="title">前端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="前端相关" class="mobile-dropdown-title"><span class="title">前端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/前端学习路线.html" class="nav-link">
  前端学习路线
</a></li><li class="dropdown-item"><!----> <a href="/frontend/css-notes/" class="nav-link">
  CSS学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/frontend/js-notes/" class="nav-link router-link-active">
  JS学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/frontend/uni-app/" class="nav-link">
  uni-app学习笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="后端相关" class="dropdown-title"><span class="title">后端相关</span> <span class="arrow down"></span></button> <button type="button" aria-label="后端相关" class="mobile-dropdown-title"><span class="title">后端相关</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/backend/eggjs/" class="nav-link">
  eggjs学习笔记
</a></li><li class="dropdown-item"><!----> <a href="/backend/thinkphp/" class="nav-link">
  ThinkPHP学习笔记
</a></li></ul></div></div><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Github" class="dropdown-title"><span class="title">Github</span> <span class="arrow down"></span></button> <button type="button" aria-label="Github" class="mobile-dropdown-title"><span class="title">Github</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="https://github.com/welives" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Github
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li><li class="dropdown-item"><!----> <a href="https://gitee.com/welives" target="_blank" rel="noopener noreferrer" class="nav-link external">
  Gitee
  <svg xmlns="http://www.w3.org/2000/svg" aria-labelledby="outbound-link-title" role="img" focusable="false" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><title id="outbound-link-title">(opens new window)</title> <path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><section class="sidebar-group depth-0"><p class="sidebar-heading open"><span>JavaScript学习笔记</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/frontend/js-notes/" aria-current="page" class="sidebar-link">目录</a></li><li><a href="/frontend/js-notes/前端开发初识.html" class="sidebar-link">前端开发初识</a></li><li><a href="/frontend/js-notes/数据类型初识.html" class="sidebar-link">数据类型初识</a></li><li><a href="/frontend/js-notes/函数初识.html" class="sidebar-link">函数初识</a></li><li><a href="/frontend/js-notes/变量声明和原理.html" class="sidebar-link">变量声明和原理</a></li><li><a href="/frontend/js-notes/表达式和运算符.html" class="sidebar-link">表达式和运算符</a></li><li><a href="/frontend/js-notes/流程语句.html" class="sidebar-link">流程语句</a></li><li><a href="/frontend/js-notes/研究String类.html" class="active sidebar-link">研究String类</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/frontend/js-notes/研究String类.html#为什么说-javascript-中万物皆对象" class="sidebar-link">为什么说 Javascript 中万物皆对象</a></li><li class="sidebar-sub-header"><a href="/frontend/js-notes/研究String类.html#字符串的创建" class="sidebar-link">字符串的创建</a></li><li class="sidebar-sub-header"><a href="/frontend/js-notes/研究String类.html#字符串的方法" class="sidebar-link">字符串的方法</a></li></ul></li><li><a href="/frontend/js-notes/研究Array类.html" class="sidebar-link">研究Array类</a></li><li><a href="/frontend/js-notes/研究Number类.html" class="sidebar-link">研究Number类</a></li><li><a href="/frontend/js-notes/研究Boolean类.html" class="sidebar-link">研究Boolean类</a></li><li><a href="/frontend/js-notes/研究Object类.html" class="sidebar-link">研究Object类</a></li><li><a href="/frontend/js-notes/研究Function类.html" class="sidebar-link">研究Function类</a></li><li><a href="/frontend/js-notes/研究Math对象.html" class="sidebar-link">研究Math对象</a></li><li><a href="/frontend/js-notes/研究Date对象.html" class="sidebar-link">研究Date对象</a></li><li><a href="/frontend/js-notes/研究Global对象.html" class="sidebar-link">研究Global对象</a></li><li><a href="/frontend/js-notes/研究RegExp对象.html" class="sidebar-link">研究RegExp对象</a></li><li><a href="/frontend/js-notes/一些demo.html" class="sidebar-link">一些demo</a></li></ul></section></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><h2 id="为什么说-javascript-中万物皆对象"><a href="#为什么说-javascript-中万物皆对象" class="header-anchor">#</a> 为什么说 Javascript 中万物皆对象</h2> <p>为了便于操作基本类型值，ECMAScript 提供了 3 个特殊的引用类型：<code>Boolean</code>、<code>Number</code>和<code>String</code>(注意前面的是<strong>大写</strong>的，<code>String</code> 不是 <code>string</code>)。这些类型与引用类型相似，但同时也具有与各自的基本类型相应的特殊行为。实际上，每当读取一个基本类型值的时候，js 内部就会创建一个对应的基本包装类型的对象，从而让我们能够调用一些方法来操作这些数据。来看下面的例子</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> testString <span class="token operator">=</span> <span class="token string">'煎蛋'</span>
testString2 <span class="token operator">=</span> testString<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'蛋'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testString<span class="token punctuation">,</span> testString2<span class="token punctuation">)</span> <span class="token comment">//煎蛋 1</span>
</code></pre></div><p>testString 是一个字符串，属于基本数据类型。按照前面<a href="/frontend/js-notes/数据类型初识.html">数据类型初识</a>中的理解，字符串是基本的数据类型，在逻辑上将不应该有方法，但是上面的代码还是可以执行的，即在 Javascript 中万物皆对象</p> <p><strong>下面解释为什么说 Javascript 中万物皆对象</strong></p> <p>其实，为了让我们实现这种直观的操作，js 内部已经自动完成了一系列的处理，第一行的完整写法是</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> testString <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'煎蛋'</span><span class="token punctuation">)</span>
</code></pre></div><p>是生成一个<code>String</code>的实例，我们可以通过打印出来看一下</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">dir</span><span class="token punctuation">(</span>testString<span class="token punctuation">)</span>
</code></pre></div><p>打开 chrome 的控制台，可以看到这样的结构</p> <div class="language-js extra-class"><pre class="language-js"><code>String
<span class="token number">0</span><span class="token operator">:</span> <span class="token string">&quot;煎&quot;</span>
<span class="token number">1</span><span class="token operator">:</span> <span class="token string">&quot;蛋&quot;</span>
length<span class="token operator">:</span> <span class="token number">2</span>
__proto__<span class="token operator">:</span> String
<span class="token punctuation">[</span><span class="token punctuation">[</span>PrimitiveValue<span class="token punctuation">]</span><span class="token punctuation">]</span><span class="token operator">:</span> <span class="token string">&quot;煎蛋&quot;</span>
</code></pre></div><p>数字的第 0 位是&quot;煎&quot;，第 1 位是&quot;蛋&quot;，它的<code>length</code>是 2；它的默认值是&quot;煎蛋&quot;，它的原型<code>__proto__</code>是<code>String</code>这个类。在最开始的时候总结时，JS 中万物皆对象，<code>字符串类型(string)</code>是<code>字符串类(String)</code>的一员(实例)，是会继承字符串类的所有属性。就好比人属于人类的一员，人会继承人类的所有特征一样</p> <p>点击<code>__proto__</code>，打开它的原型，查看它继承<code>String</code>的哪些方法，<code>String</code>的默认值是空字符串<code>&quot;&quot;</code></p> <p>可以看到继承了<code>String</code>这个类的 N 多方法；其中就有<code>indexOf</code>这个方法</p> <p>这个方法的原型，指向了<code>Function</code>的<code>prototype</code>(注意<code>constructor</code>这个属性，默认会指向<code>Function</code>本身)，再次打开<code>__proto__</code>，会打开继承的<code>Object</code>这个基类，之所以说是基类，是因为<code>Object.__proto__</code>是<strong>null</strong>，已经到顶了</p> <div class="language-js extra-class"><pre class="language-js"><code>console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'煎蛋'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// String</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'煎蛋'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// Object</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'煎蛋'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span>__proto__<span class="token punctuation">)</span> <span class="token comment">// null</span>
</code></pre></div><p>因为有原型的原因，所以可以使用<code>indexOf</code>方法，当然，也可以在<code>testString.__proto__</code>使用该方法，因为上面有<code>indexOf</code>这个方法</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> testString <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'煎蛋'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testString<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'煎'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// 0</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testString<span class="token punctuation">.</span>__proto__<span class="token punctuation">.</span><span class="token function">indexOf</span><span class="token punctuation">(</span><span class="token string">'蛋'</span><span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token comment">// -1</span>
<span class="token comment">// console.log(testString.__proto__.__proto__.indexOf('蛋')) // 报错, 因为Object类上没有indexOf这个方法</span>
</code></pre></div><p><strong>引用类型与基本类型的主要区别就是对象的生存期</strong>。使用<code>new</code>操作符创建的引用类型的实例，在执行流离开当前作用域之前都一直保存在内存中。而自动创建的基本类型的对象，则只存在于一行代码的执行瞬间，然后立即被销毁。这意味着我们不能在运行时为基本类型值添加属性和方法。来看下面的例子</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> testStr <span class="token operator">=</span> <span class="token string">'我是一个字符串'</span>
testStr<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'我的附加的一个颜色值'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'testStr.color的值是：'</span><span class="token punctuation">,</span> testStr<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token comment">//testStr.color的值是： undefined</span>

<span class="token keyword">var</span> testObj <span class="token operator">=</span> <span class="token punctuation">{</span><span class="token punctuation">}</span>
testObj<span class="token punctuation">.</span>color <span class="token operator">=</span> <span class="token string">'我的附加的一个颜色值'</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token string">'testObj.color的值是：'</span><span class="token punctuation">,</span> testObj<span class="token punctuation">.</span>color<span class="token punctuation">)</span> <span class="token comment">//testObj.color的值是： 我的附加的一个颜色值</span>
</code></pre></div><p>在此，第二行代码试图为字符串 testStr 添加一个 color 属性。但是，当第三行代码再次访问 testStr 时，其 color 属性不见了。问题的原因就是第二行创建的<code>String</code>对象在执行第三行代码时已经被销毁了。第三行代码又创建自己的<code>String</code>对象，而该对象没有 color 属性</p> <p><code>Object</code>构造函数也会像工厂方法一样，根据传入值的类型返回相应基本类型的实例</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Object</span><span class="token punctuation">(</span><span class="token string">'some text'</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>obj <span class="token keyword">instanceof</span> <span class="token class-name">String</span><span class="token punctuation">)</span> <span class="token comment">//true</span>
</code></pre></div><p>把<strong>字符串</strong>传给<code>Object</code>构造函数，就会创建<code>String</code>的实例，而传入<strong>数值</strong>会得到<code>Number</code>的实例，传入<strong>布尔值</strong>就会得到<code>Boolean</code>的实例</p> <blockquote><p>要注意的是，使用<code>new</code>调用基本类型的构造函数，与直接调用同名的转型函数是不一样的</p></blockquote> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> value <span class="token operator">=</span> <span class="token string">'25'</span>
<span class="token keyword">var</span> number <span class="token operator">=</span> <span class="token function">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">//转型函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> number<span class="token punctuation">)</span> <span class="token comment">// number</span>

<span class="token keyword">var</span> obj <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">Number</span><span class="token punctuation">(</span>value<span class="token punctuation">)</span> <span class="token comment">//构造函数</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span><span class="token keyword">typeof</span> obj<span class="token punctuation">)</span> <span class="token comment">// object</span>
</code></pre></div><p>在这个例子中，变量 number 中保存的是基本类型的值 25，而变量 obj 中保存的是<code>Number</code>的实例</p> <h2 id="字符串的创建"><a href="#字符串的创建" class="header-anchor">#</a> 字符串的创建</h2> <p><strong>字符串的 2 种创建方法</strong></p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> stringObject <span class="token operator">=</span> <span class="token keyword">new</span> <span class="token class-name">String</span><span class="token punctuation">(</span><span class="token string">'hello world one'</span><span class="token punctuation">)</span> <span class="token comment">//这个是字符串对象，不推荐这种写法, bad</span>
<span class="token keyword">var</span> testString <span class="token operator">=</span> <span class="token string">'hello world two'</span> <span class="token comment">//这个是基本的字符串值, 推荐这种写法, good，因为有原型链也可以访问到String的方法</span>

console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>stringObject<span class="token punctuation">,</span> stringObject<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">// string 对象 15</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>testString<span class="token punctuation">,</span> testString<span class="token punctuation">.</span>length<span class="token punctuation">)</span> <span class="token comment">//hello word too 15</span>
</code></pre></div><p><code>String</code>类型的每个实例都有一个<code>length</code>属性，表示字符串中包含多个字符</p> <h2 id="字符串的方法"><a href="#字符串的方法" class="header-anchor">#</a> 字符串的方法</h2> <h4 id="查找方法"><a href="#查找方法" class="header-anchor">#</a> 查找方法</h4> <ul><li><p>字符串方法</p> <ul><li><code>charAt(index)</code> <ul><li>功能：返回指定位置的字符</li> <li>参数：<code>index</code>是必须的，表示字符在字符串中的下标</li> <li>注释：字符串中第一个字符的下标是 0。如果参数<code>index</code>不在 0 与<code>string.length</code>之间，该方法将返回一个空字符串</li></ul></li> <li><code>charCodeAt(index)</code> <ul><li>功能：返回在指定的位置的字符的 Unicode 编码</li> <li>参数：<code>index</code>是必须的，表示字符在字符串中的下标</li> <li>注释：字符串中第一个字符的下标是 0。如果<code>index</code>是负数，或大于等于字符串的长度，则<code>charCodeAt()</code>返回 NaN</li></ul></li> <li><code>fromCharCode(Unicode,Unicode,Unicode)</code> <ul><li>功能：用 Unicode 编码创建一个字符串</li> <li>参数：一个或多个 Unicode 值，即要创建的字符串中的字符的 Unicode 编码</li> <li>注释：该方法是<code>String</code>的<strong>静态方法</strong>，字符串中的每个字符都由单独的数字 Unicode 编码指定。它不能作为您已创建的<code>String</code>实例的方法来使用。因此它的语法应该是<code>String.fromCharCode()</code>，而不是 <code>myString.fromCharCode()</code></li></ul></li> <li>三者的关系
<ul><li><code>charAt</code>与<code>charCodeAt</code>共性：都是根据下标来查询字符，一个是查找实际的字符，一个是字符对应的 Unicode 值，有效范围<code>0 ~ length-1</code></li> <li><code>charCodeAt</code>与<code>fromCharCode</code>互为反向操作；但是<code>charCodeAt</code>是查询，而<code>fromCharCode</code>是创建</li></ul></li></ul></li> <li><p><strong>位置方法(常用)</strong></p> <ul><li><code>indexOf(searchValue，index)</code> <ul><li>功能：返回某个指定的字符串值在字符串中首次出现的位置</li> <li>参数：<code>searchValue</code>是必须的，规定需检索的字符串值；<code>index</code>是可选的整数参数。规定在字符串中从 <code>index</code>处向后检索。它的合法取值是<code>0 ~ length-1</code>。如省略该参数，则将从字符串的首字符开始检索</li> <li>注释：<code>indexOf()</code>方法对大小写敏感！如果要检索的字符串值没有出现，则该方法返回 <strong>-1</strong></li></ul></li> <li><code>lastIndexOf(searchValue，index)</code> <ul><li>功能：返回一个指定的字符串值最后出现的位置，默认从字符串末尾向前检索。如果指定<code>index</code>，则从<code>index</code>位置处向前检索</li> <li>参数：<code>searchValue</code>是必须的，规定需检索的字符串值；<code>index</code>是可选的整数参数。规定在字符串中从 index 处向前检索。它的合法取值是<code>0 ~ length-1</code>。如省略该参数，则将从字符串的末尾开始检索</li> <li>注释：<code>lastIndexOf()</code>方法对大小写敏感！如果要检索的字符串值没有出现，则该方法返回 <strong>-1</strong></li></ul></li></ul></li> <li><p>匹配方法</p> <ul><li><code>search(regexp)</code> <ul><li>功能：用于检索字符串中指定的子字符串，或检索与正则表达式相匹配的子字符串</li> <li>参数：<code>regexp</code>是必须的，可以是需要检索的子串，也可以是需要检索的<code>RegExp</code>对象。要执行忽略大小写的检索，请追加标志<code>i</code></li> <li>注释：<code>search()</code>方法不执行全局匹配，它将忽略标志<code>g</code>。它同时忽略<code>regexp</code>的<code>lastIndex</code>属性，并且总是从字符串的首字符开始检索，这意味着它总是返回第一个匹配的位置。如果没有找到任何匹配的子串，则返回 <strong>-1</strong></li></ul></li> <li><code>replace(regexp/substr,replacement)</code> <ul><li>功能：在字符串中用一些字符替换另一些字符，或替换一个与正则表达式匹配的子串</li> <li>参数：<code>regexp/substr</code>是必须的。规定子字符串或要替换的模式的<code>RegExp</code>对象。如果该值是一个字符串，则将它作为要检索的直接量文本模式，而不是首先被转换为<code>RegExp</code>对象。<code>replacement</code>必需的。一个字符串值。规定了替换文本或生成替换文本的函数</li> <li>返回值：一个新的字符串，是用<code>replacement</code>替换了<code>regexp</code>的第一次匹配或所有匹配之后得到的</li> <li>说明：字符串 stringObject 的<code>replace()</code>方法执行的是查找并替换的操作。它将在 stringObject 中查找与<code>regexp</code>相匹配的子字符串，然后用<code>replacement</code>来替换这些子串。如果<code>regexp</code>具有全局标志<code>g</code>，那么<code>replace()</code>方法将替换所有匹配的子串。否则，它只替换第一个匹配子串。<code>replacement</code>可以是字符串，也可以是函数。如果它是字符串，那么每个匹配都将由字符串替换。但是 <code>replacement</code>中的<code>$</code>字符具有特定的含义。如下表所示，它说明从模式匹配得到的字符串将用于替换
<table><thead><tr><th>字符</th> <th>替换文本</th></tr></thead> <tbody><tr><td>$1、$2、...、$99</td> <td>与 regexp 中的第 1 到第 99 个子表达式相匹配的文本</td></tr> <tr><td>$&amp;</td> <td>与 regexp 相匹配的子串</td></tr> <tr><td>$`</td> <td>位于匹配子串左侧的文本</td></tr> <tr><td>$'</td> <td>位于匹配子串右侧的文本</td></tr> <tr><td>$$</td> <td>直接量符号</td></tr></tbody></table></li> <li>注意：ECMAScript v3 规定，<code>replace()</code>方法的参数<code>replacement</code>可以是函数而不是字符串。在这种情况下，每个匹配项都调用该函数，它返回的字符串将作为替换文本使用。该函数的第一个参数是匹配模式的字符串。接下来的参数是与模式中的子表达式匹配的字符串，可以有 0 个或多个这样的参数。接下来的参数是一个整数，声明了匹配在 stringObject 中出现的位置。最后一个参数是 stringObject 本身</li></ul></li></ul> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">var</span> str <span class="token operator">=</span> <span class="token string">'aaa bbb ccc'</span>
<span class="token keyword">var</span> strTarget <span class="token operator">=</span> str<span class="token punctuation">.</span><span class="token function">replace</span><span class="token punctuation">(</span><span class="token regex">/\b\w+\b/g</span><span class="token punctuation">,</span> <span class="token keyword">function</span><span class="token punctuation">(</span><span class="token parameter">word</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">return</span> word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">0</span><span class="token punctuation">,</span> <span class="token number">1</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toUpperCase</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">+</span> word<span class="token punctuation">.</span><span class="token function">substring</span><span class="token punctuation">(</span><span class="token number">1</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
console<span class="token punctuation">.</span><span class="token function">log</span><span class="token punctuation">(</span>strTarget<span class="token punctuation">)</span> <span class="token comment">// Aaa Bbb Ccc</span>
</code></pre></div><ul><li><code>split(separator,howmany)</code> <ul><li>功能：把字符串分割为字符串数组</li> <li>参数：<code>separator</code>是必须的。可以是字符串或正则表达式，从该参数指定的地方分割 stringObject。<code>howmany</code>可选的。该参数可指定返回的数组的最大长度。如果设置了该参数，返回的子串不会多于这个参数指定的数组。如果没有设置该参数，整个字符串都会被分割，不考虑它的长度</li> <li>返回值：一个字符串数组。该数组是通过在<code>separator</code>指定的边界处将字符串 stringObject 分割成子串创建的。返回的数组中的字串不包括<code>separator</code>自身。但是，如果<code>separator</code>是包含子表达式的正则表达式，那么返回的数组中包括与这些子表达式匹配的字串（但不包括与整个正则表达式匹配的文本）</li> <li>注释：如果把空字符串 (&quot;&quot;) 用作<code>separator</code>，那么 stringObject 中的每个字符之间都会被分割。<code>String.split()</code>执行的操作与<code>Array.join</code>执行的操作是相反的</li></ul></li></ul></li></ul> <h4 id="操作方法"><a href="#操作方法" class="header-anchor">#</a> 操作方法</h4> <ul><li>拼接方法
<ul><li><code>concat(stringX,stringX,...,stringX)</code> <ul><li>功能：连接两个或多个字符串</li> <li>参数：<code>stringX</code>是必须的。将被连接为一个字符串的一个或多个字符串对象</li> <li><code>concat()</code>方法将把它的所有参数转换成字符串，然后按顺序连接到字符串 stringObject 的尾部，并返回连接后的字符串。请注意，stringObject 本身并没有被更改。<code>stringObject.concat()</code>与<code>Array.concat()</code>很相似</li> <li>提示：请注意，使用<code>+</code>运算符来进行字符串的连接运算通常会更简便一些</li></ul></li></ul></li> <li>截取方法
<ul><li>根据下标截取子串
<ul><li><code>slice(start,end)</code> <ul><li>功能：提取字符串的片断，并在新的字符串中返回被提取的部分</li> <li>参数：<code>start</code>要抽取的片断的起始下标。如果是负数，则该参数规定的是从字符串的末尾开始算起的位置。也就是说，-1 指字符串的最后一个字符，-2 指倒数第二个字符，以此类推。<code>end</code>紧接着要抽取的片段的结尾的下标。若未指定此参数，则要提取的子串包括<code>start</code>到原字符串结尾的字符串。如果该参数是负数，那么它规定的是从字符串的尾部开始算起的位置。</li> <li>返回值：一个新的字符串。包括字符串 stringObject 从<code>start</code>开始（包括 start）到<code>end</code>结束（不包括 end）为止的所有字符</li> <li><code>String</code>对象的方法<code>slice()</code>、<code>substring()</code>和<code>substr()</code>（不建议使用）都可返回字符串的指定部分。<code>slice()</code>比<code>substring()</code>要灵活一些，因为它允许使用负数作为参数。<code>slice()</code>与<code>substr()</code>有所不同，因为它用两个字符的位置来指定子串，而<code>substr()</code>则用字符位置和长度来指定子串。还要注意的是，<code>String.slice()</code>与<code>Array.slice()</code>相似</li></ul></li> <li><code>substring(start,stop)</code> <ul><li>功能：提取字符串中两个指定的索引号之间的字符</li> <li>参数：<code>start</code>是必须的。一个非负的整数，规定要提取的子串的第一个字符在 stringObject 中的位置。<code>stop</code>可选的。一个非负的整数，比要提取的子串的最后一个字符在 stringObject 中的位置多 1。如果省略该参数，那么返回的子串会一直到字符串的结尾</li> <li>返回值：一个新的字符串，该字符串值包含 stringObject 的一个子字符串，其内容是从<code>start</code>处到 <code>stop-1</code>处的所有字符，其长度为<code>stop - start</code></li> <li>说明：<code>substring()</code>方法返回的子串包括<code>start</code>处的字符，但不包括<code>stop</code>处的字符。如果参数<code>start</code> 与<code>stop</code>相等，那么该方法返回的就是一个空串（即长度为 0 的字符串）。如果<code>start</code>比<code>stop</code>大，那么该方法在提取子串之前会先交换这两个参数</li></ul></li></ul></li> <li>根据长度截取子串
<ul><li><code>substr(start,length)</code> <ul><li>功能：在字符串中抽取从<code>start</code>下标开始的指定数目的字符</li> <li>参数：<code>start</code>是必须的。要抽取的子串的起始下标。必须是数值。如果是负数，那么该参数声明从字符串的末尾开始算起的位置。也就是说，-1 指字符串中最后一个字符，-2 指倒数第二个字符，以此类推。<code>length</code>可选的。子串中的字符数。必须是数值。如果省略了该参数，那么返回从 stringObject 的开始位置到结尾的字串。</li> <li>返回值：一个新的字符串，包含从 stringObject 的<code>start</code>（包括 start 所指的字符）处开始的<code>length</code>个字符。如果没有指定<code>length</code>，那么返回的字符串包含从<code>start</code>到 stringObject 的结尾的字符</li> <li>注释：<code>substr()</code>的参数指定的是子串的开始位置和长度，因此它可以替代<code>substring()</code>和<code>slice()</code>来使用</li> <li>重要事项：<strong>因为 ECMAscript 没有对该方法进行标准化，所以不推荐使用它</strong></li></ul></li></ul></li> <li><code>trim</code>: 清除字符串前后的空格</li> <li><code>trimLeft</code>：清除字符串的前置空格</li> <li><code>trimRight</code>：清除字符串的后缀空格</li></ul></li> <li>比较方法
<ul><li><code>localCompare(target)</code> <ul><li>功能：用本地特质顺序比较两个字符串</li> <li>参数：用元字符串进行比较的字符串</li> <li>返回值：说明比较结果的数字
<ul><li>负数：元字符串&lt;参数字符串</li> <li>0：原字符串=参数字符串</li> <li>正数：元字符串&gt;参数字符串</li></ul></li></ul></li></ul></li></ul> <h4 id="编码方法"><a href="#编码方法" class="header-anchor">#</a> 编码方法</h4> <ul><li>字符串常规编码与解码
<ul><li><code>escape()</code></li> <li><code>unescape()</code></li></ul></li> <li>URI 字符串编码与解码
<ul><li><code>encodeURI</code></li> <li><code>decodeURI</code></li></ul></li> <li>URI 组件编码与解码
<ul><li><code>encodeURIComponent()</code></li> <li><code>decodeURIComponent()</code></li></ul></li></ul> <h4 id="转换方法"><a href="#转换方法" class="header-anchor">#</a> 转换方法</h4> <ul><li>大小写转换
<ul><li>转为大写
<ul><li><code>toUpperCase()</code></li> <li><code>toLocaleUpperCase()</code></li></ul></li> <li>转为小写
<ul><li><code>toLowerCase()</code></li> <li><code>toLocaleLowerCase()</code></li></ul></li></ul></li> <li>代码转换
<ul><li>用 JS 动态格式化 HTML，不具语义性，舍弃</li></ul></li></ul></div> <footer class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated:</span> <span class="time">10/6/2020, 10:02:06 PM</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ←
      <a href="/frontend/js-notes/流程语句.html" class="prev">
        流程语句
      </a></span> <span class="next"><a href="/frontend/js-notes/研究Array类.html">
        研究Array类
      </a>
      →
    </span></p></div> </main></div><div class="global-ui"><!----></div></div>
    <script src="/assets/js/app.c6a61154.js" defer></script><script src="/assets/js/2.b83c1193.js" defer></script><script src="/assets/js/45.bced3911.js" defer></script>
  </body>
</html>
